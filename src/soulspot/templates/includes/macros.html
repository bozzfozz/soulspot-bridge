{# Hey future me - these are Jinja2 macros for the new UI. Use them via {% import "includes/macros.html" as macros %}
   and then call {{ macros.page_header(...) }}. The caller() pattern allows custom content inside the header actions area. #}

{% macro page_header(title, subtitle=None, action_text=None, action_icon=None, action_url=None, action_class='btn-primary') %}
<div class="flex items-center justify-between mb-8">
    <div>
        <h1 class="text-3xl font-bold">{{ title }}</h1>
        {% if subtitle %}
        <p class="text-muted mt-2">{{ subtitle }}</p>
        {% endif %}
    </div>
    <div class="flex gap-3">
        {% if caller %}
        {{ caller() }}
        {% elif action_text %}
        {% if action_url %}
        <a href="{{ action_url }}" class="btn {{ action_class }}">
            {% if action_icon %}<i class="{{ action_icon }} mr-2"></i>{% endif %}
            {{ action_text }}
        </a>
        {% else %}
        <button class="btn {{ action_class }}">
            {% if action_icon %}<i class="{{ action_icon }} mr-2"></i>{% endif %}
            {{ action_text }}
        </button>
        {% endif %}
        {% endif %}
    </div>
</div>
{% endmacro %}

{% macro stat_card(label, value, icon, change_text=None, change_type='neutral') %}
<div class="stat-card">
    <div class="stat-card-icon">
        <i class="{{ icon }}"></i>
    </div>
    <div class="stat-card-content">
        <div class="stat-card-label">{{ label }}</div>
        <div class="stat-card-value">{{ value }}</div>
        {% if change_text %}
        <div class="stat-card-change {{ change_type }}">
            {% if change_type == 'positive' %}<i class="fa-solid fa-arrow-up"></i>{% endif %}
            {% if change_type == 'negative' %}<i class="fa-solid fa-arrow-down"></i>{% endif %}
            <span>{{ change_text }}</span>
        </div>
        {% endif %}
    </div>
</div>
{% endmacro %}
