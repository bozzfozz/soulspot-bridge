{# 
  Hey future me - Page List Partial for sidebar (legacy widget system)
  
  This was part of the dashboard widget/page system that got removed.
  Keeping for backward compatibility but might not be used anymore.
  Uses new design system styling just in case.
#}
{% if pages and pages|length > 0 %}
  {% for page in pages %}
    <li class="page-list-item {% if page.is_default %}active{% endif %}"
        style="padding: var(--space-2) var(--space-3); border-radius: var(--radius-md); cursor: pointer; {% if page.is_default %}background: var(--bg-tertiary);{% endif %}"
        onclick="window.location.href='/api/ui/dashboard?page_slug={{ page.slug }}'">
      <div style="display: flex; align-items: center; justify-content: space-between;">
        <div style="flex: 1; min-width: 0;">
          <div style="font-weight: var(--font-weight-medium); font-size: var(--font-size-sm); color: var(--text-primary); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
            {{ page.name }}
          </div>
          {% if page.is_default %}
            <div style="font-size: var(--font-size-xs); color: var(--text-muted);">Default</div>
          {% endif %}
        </div>
        
        {% if not page.is_default %}
          <button style="margin-left: var(--space-2); padding: var(--space-1); color: var(--text-muted);"
                  hx-delete="/api/ui/pages/{{ page.id }}"
                  hx-confirm="Delete this page?"
                  onclick="event.stopPropagation()"
                  aria-label="Delete page">
            <i class="bi bi-trash" style="font-size: 14px;"></i>
          </button>
        {% endif %}
      </div>
    </li>
  {% endfor %}
{% else %}
  <li style="text-align: center; padding: var(--space-4); color: var(--text-muted); font-size: var(--font-size-sm);">
    No pages yet
  </li>
{% endif %}
