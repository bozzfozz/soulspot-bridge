<!-- Sidebar -->
<aside class="app-sidebar" id="sidebar">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
        <a href="/" class="sidebar-logo">
            <i class="fa-solid fa-music sidebar-logo-icon"></i>
            <span class="sidebar-logo-text">SoulSpot</span>
        </a>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav">
        <!-- Main Section -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Main</div>
            <a href="/dashboard" class="sidebar-item {% if request.url.path == '/dashboard' %}active{% endif %}">
                <i class="fa-solid fa-home sidebar-item-icon"></i>
                <span class="sidebar-item-text">Dashboard</span>
            </a>
            <a href="/search" class="sidebar-item {% if request.url.path == '/search' %}active{% endif %}">
                <i class="fa-solid fa-search sidebar-item-icon"></i>
                <span class="sidebar-item-text">Search</span>
            </a>
        </div>

        <!-- Library Section -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Library</div>
            <a href="/library/artists"
                class="sidebar-item {% if '/library/artists' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-user-music sidebar-item-icon"></i>
                <span class="sidebar-item-text">Artists</span>
            </a>
            <a href="/library/albums"
                class="sidebar-item {% if '/library/albums' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-compact-disc sidebar-item-icon"></i>
                <span class="sidebar-item-text">Albums</span>
            </a>
            <a href="/library/tracks"
                class="sidebar-item {% if '/library/tracks' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-music sidebar-item-icon"></i>
                <span class="sidebar-item-text">Tracks</span>
            </a>
        </div>

        <!-- Content Section -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Content</div>
            <a href="/playlists"
                class="sidebar-item {% if '/playlists' in request.url.path and '/import' not in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-list sidebar-item-icon"></i>
                <span class="sidebar-item-text">Playlists</span>
            </a>
            <a href="/playlists/import"
                class="sidebar-item {% if '/playlists/import' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-download sidebar-item-icon"></i>
                <span class="sidebar-item-text">Import</span>
            </a>
            <a href="/downloads" class="sidebar-item {% if '/downloads' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-clock sidebar-item-icon"></i>
                <span class="sidebar-item-text">Queue</span>
                {% if queue_count and queue_count > 0 %}
                <span class="sidebar-item-badge">{{ queue_count }}</span>
                {% endif %}
            </a>
        </div>

        <!-- Settings Section -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">System</div>
            <a href="/settings" class="sidebar-item {% if '/settings' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-cog sidebar-item-icon"></i>
                <span class="sidebar-item-text">Settings</span>
            </a>
            <a href="/styleguide" class="sidebar-item {% if '/styleguide' in request.url.path %}active{% endif %}">
                <i class="fa-solid fa-palette sidebar-item-icon"></i>
                <span class="sidebar-item-text">Styleguide</span>
            </a>
        </div>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
        <div class="sidebar-user">
            <img src="{{ user.avatar or 'https://ui-avatars.com/api/?name=' + (user.name or 'User') }}"
                alt="{{ user.name or 'User' }}" class="sidebar-user-avatar">
            <div class="sidebar-user-info">
                <div class="sidebar-user-name">{{ user.name or 'User' }}</div>
                <div class="sidebar-user-status">Online</div>
            </div>
        </div>
    </div>
</aside>